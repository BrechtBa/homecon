<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">


<dom-module is="select-state">
    <template>
        <style>
            :host{
            }
        </style>
        
        <paper-dropdown-menu label="state">
            <paper-menu class="dropdown-content" attr-for-selected="value" selected="{{path}}">
                <template is="dom-repeat" items="{{states}}" as="state">
                    <paper-item value="{{state.path}}">{{state.path}}</paper-item>
                </template>
            </paper-menu>
        </paper-dropdown-menu>
        
    </template>
    <script>
        Polymer({
            is: 'select-state',
            properties: {
                path: {
                    type: 'String',
                    notify: true
                },
            },

            ready: function(){
                this.reload();
                this.listen(window.app, 'app-states-changed', 'reload');
            },

            reload: function(){
                console.log('reload')
                this.states = window.app.states;
            },

        });
    </script>
</dom-module>
