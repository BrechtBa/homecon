<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="../../bower_components/paper-drawer-panel/paper-drawer-panel.html">

<dom-module is="paper-toolbar-drawer">
	<template>
		<style>
			:host{
				width: 100%;
				height: 100%;
				background-color: var(--primary-background-color);
			}
			.toolbar{
				position: fixed;

				-webkit-box-sizing: border-box;
			   	-moz-box-sizing: border-box;
				box-sizing: border-box;

				width: 100%;
				height: 60px;

				background-color: var(--toolbar-color);
				border-bottom: solid 1px;
				border-color: var(--toolbar-border-color);
				box-shadow: 2px 2px 2px rgba(0,0,0,.15);
				z-index: 10;
			}
			.content{
				position: absolute;

				-webkit-box-sizing: border-box;
			   	-moz-box-sizing: border-box;
				box-sizing: border-box;

				top: 60px;
				left: 0;
				right: 0;
				bottom: 0;
			}
			.drawer{
				background-color: var(--secondary-background-color);
				overflow: hidden;
			}
			.drawer-content{
				overflow-x: hidden;
				overflow-y: scroll;
				width: calc(100% + 15px);
				height: 100%;
			}
			.main{
				overflow: hidden;
			}
			.main-content{
				overflow-x: hidden;
				overflow-y: scroll;

				-webkit-box-sizing: border-box;
			   	-moz-box-sizing: border-box;
				box-sizing: border-box;

				width: calc(100% + 15px);
				height: 100%;
				padding: 12px 27px 12px 12px;
			}
			a.menu{
				position: absolute;
				cursor: pointer;

				right: 10px;
				top: 0px;

				width: 50px;
				height: 50px;
			}
			a.menu img{
				width: 100%;
				height: 100%;
			}
		</style>
		
		<div class="toolbar">
			<content select=".toolbar"></content>
			<a class="menu" on-click="toggleDrawer" hidden="{{hideMenuButton}}">
				<img src="../../images/icons/ffffff/homecon_bars.png">
			</a>
		</div>
		<div class="content">
		    <paper-drawer-panel id="drawerPanel" responsive-width="800px" drawer-width="500px">
      			<div drawer class="drawer">
					<div class="drawer-content">
						<content select=".drawer"></content>
					</div>
				</div>
      			<div main class="main">
					<div class="main-content">
						<content select=".main"></content>
					</div>
				</div>
   			</paper-drawer-panel>
		</div>
			
	</template>
	<script>
		Polymer({
			is: 'paper-toolbar-drawer',
			properties: {
			},
			ready: function(){
				var that = this;
				this.hideMenuButton = !this.$.drawerPanel.narrow;
				this.$.drawerPanel.addEventListener("narrow-changed", function(e){
					that.hideMenuButton = !e.detail.value
				});
			},
			closeDrawer: function(){
				drawerPanel.closeDrawer();
			},
			toggleDrawer: function(){
				drawerPanel.togglePanel();
			}
		});
	</script>
</dom-module>
